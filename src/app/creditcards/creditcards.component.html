<!-- <p>creditcards works!</p>
<p>credcards works!</p> -->
<div style="display: flex; flex-direction: row;">
    <mat-card class="mat-card count-card bg-success">
            <mat-card-title>Total Count</mat-card-title>
        <mat-card-content>10</mat-card-content>
        </mat-card>
    
        <mat-card class="mat-card count-card bg-warning">
            <mat-card-title>Total Credit</mat-card-title>
        <mat-card-content>10</mat-card-content>
        </mat-card>
    
        <mat-card class="mat-card count-card bg-info">
            <mat-card-title>Maximum Interest</mat-card-title>
        <mat-card-content>10</mat-card-content>
        </mat-card>
    
        <mat-card class="mat-card count-card bg-herh">
            <mat-card-title>Total Applications</mat-card-title>
        <mat-card-content>10</mat-card-content> (ngSubmit)="onSubmit(myForm)" 
        </mat-card>
</div>
    <mat-card class="mat-card">
        <mat-card-header>
        <mat-card-title>Listing All Credit cards</mat-card-title>
        </mat-card-header>
    <mat-card-content>
         <table mat-table [dataSource]="dataSource" matSort>
            <ng-container matColumnDef="select">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let row">
                  <mat-checkbox></mat-checkbox>        
             </td>
             </ng-container> 
             <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef>ID</th>
                <td mat-cell *matCellDef="let element">{{element.id}}</td>
            </ng-container>

            <ng-container matColumnDef="name">Â¬
                <th mat-header-cell *matHeaderCellDef>NAME</th>
                <td mat-cell *matCellDef="let element">{{element.name}}</td>
            </ng-container>

            <ng-container matColumnDef="cardname"> 
                <th mat-header-cell *matHeaderCellDef>CARDNAME</th>
                <td mat-cell *matCellDef="let element">{{element.cardname}}</td>
            </ng-container>

            <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef>DESCRIPTION</th>
                <td mat-cell *matCellDef="let element">{{element.description}}</td>
            </ng-container>

            <ng-container matColumnDef="bankName">
                <th mat-header-cell *matHeaderCellDef>BANKNAME</th>
                <td mat-cell *matCellDef="let element">{{element.bankName}}</td>
            </ng-container>

            <ng-container matColumnDef="maxCredit">
                <th mat-header-cell *matHeaderCellDef>MAXCREDIT<th>
                <td mat-cell *matCellDef="let element">{{element.maxCredit}}</td>
            </ng-container>

            <ng-container matColumnDef="interestRate">
                <th mat-header-cell *matHeaderCellDef>INTERESTRATE<th>
                <td mat-cell *matCellDef="let element">{{element.interestRate}}</td>
            </ng-container>

            <ng-container matColumnDef="active">
                <th mat-header-cell *matHeaderCellDef>ACTIVE</th>
                <td mat-cell *matCellDef="let element">{{element.active}}</td>
            </ng-container>

            <ng-container matColumnDef="recommendedCreditScore">
                <th mat-header-cell *matHeaderCellDef>RecommendedCreditScore</th>
                <td mat-cell *matCellDef="let element">{{element.recommendedCreditScore}}</td>
            </ng-container>

            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef>ACTIONS</th>
                <td mat-cell *matCellDef="let element">
                    <a [routerLink]="['view',element.id]">
                        <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="home"></mat-icon>
                    </a> | 
                     <!-- <a [routerLink]="['edit',element.id]"> -->
                       
                            <button>
                        <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="edit" (click)="openDialog(MyDialog,element)"></mat-icon>
            
                    </button>
                  
                        <!-- </a> -->
                     <!-- <a [routerLink]="['delete',element.id]"> -->
                        <mat-icon aria-hidden="false" aria-label="Example home icon"  fontIcon="delete" (click)="deleteDialog(MyDeleteDialog, element)"></mat-icon>
                     <!-- </a> -->
    
                </td>
            </ng-container>
            <!-- <button mat-button color="sec" (click)="secondEdit(secDialog)">Second Button</button>
           <ng-template #secDialog>
                <h2 mat-dialog-title>Session Timed out</h2>
            <mat-dialog-content>You will be logged out due to inactivity</mat-dialog-content>
            <mat-dialog-actions>
                <button mat-button>Keep me logged in</button>
                <button mat-button>Log Out</button>
            </mat-dialog-actions>
        </ng-template> -->

            <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
            <tr mat-row *matRowDef="let row; columns:displayColumns"></tr>
        </table> 
        <mat-paginator [pageSizeOptions]="[5,10,15,20]"
        [length]="20" [pageSize]="10" aria-label="select page"
        showFirstLastButtons></mat-paginator>
    </mat-card-content> 
  


  <!-- my Dialog -->
    <ng-template #MyDialog let-data=data>
        <mat-dialog-content>
            <h1>Edit Credit card</h1>
           <form #editForm="ngForm" (ngSubmit)="saveNewUpdates(editForm)">
            <div class="form-group">
                <mat-form-field class="half-width">
                    <label>Credit Card Name</label>
                    <input name="name" matInput [(ngModel)]="data.name" placeholder="Credit Card Name" id="name">
                </mat-form-field>
            </div>
            <div class="form-group">
                <mat-form-field class="half-width">
                    <label>Description</label>
                    <input name="description"  matInput [(ngModel)]="data.description" placeholder="Credit Card description" id="description">
                </mat-form-field>
            </div>
            <div class="form-group">
                <mat-form-field class="half-width">
                    <label>Max credit</label>
                    <input name="maxCredit" matInput [(ngModel)]="data.maxCredit" placeholder="Credit Card maxCredit" id="maxCredit">
                </mat-form-field>
            </div>
            <div class="form-group">
                <mat-form-field class="half-width">
                    <label>Interest Rate</label>
                    <input name="interestRate" matInput [(ngModel)]="data.interestRate" placeholder="Credit Card interestRate" id="interestRate">
                </mat-form-field>
            </div>
            <button type="submit" >Edit</button>
           </form>
        </mat-dialog-content>
    </ng-template>

   <!-- <ng-template #>
    <mat-dialog-content>
        <p>Are you sure you want to delete?</p>
        <button mat-button type="submit" *matCellDef="let element" (click)="deleteDialog(element)">Yes</button>
        <button type="submit" >No</button>
    </mat-dialog-content>
    </ng-template> -->

    <!-- <ng-template #MyDeleteDialog let-data="data">
        <p>Debug Data: {{ data | json}} </p>
        <mat-dialog-content>
            <p>Are you sure you want to delete {{data?.name}}</p>
            
            <div style="display: flex; flex-direction:row; justify-content:space-around;">
            <button (click)="removeItem(data.id)">Yes</button>
            <button (click)="dontDelete()">No</button>
            </div>
        </mat-dialog-content>
    </ng-template> -->

    <ng-template #MyDeleteDialog let-data="data" let-dialogRef="dialogRef">
        <mat-dialog-content>
          <p>Are you sure you want to delete {{ dialogRef.name }}?</p>
          <div style="display: flex; flex-direction: row; justify-content: space-around;">
            <button style="color:blue" (click)="dialogRef.close('confirmed')">Yes</button>
            <button style="color:red" (click)="dialogRef.close()">No</button>
          </div>
        </mat-dialog-content>
    </ng-template>

</mat-card>